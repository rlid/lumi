{% extends "index.html" %}
{% from "macros_utils.html" import render_track_record with context %}

{% block mid_col %}
    <div class="accordion accordion-flush mb-3">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button py-2" type="button" data-bs-toggle="collapse"
                        data-bs-target="#accordionBasicInfo">
                    <b>Basic Information</b>
                </button>
            </h2>
            <div id="accordionBasicInfo" class="accordion-collapse collapse show">
                <div class="accordion-body">
                    <p class="card-text">ID: {{ user.id }}</p>
                    <p class="card-text">Member since: {{ moment(user.timestamp).format('MMM YYYY') }}</p>
                    <p class="card-text">Average response time: TODO</p>
                    <p class="card-text">Last seen: TODO</p>
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button py-2" type="button" data-bs-toggle="collapse"
                        data-bs-target="#accordionTrackRecord">
                    <b>Track Record</b>
                </button>
            </h2>
            <div id="accordionTrackRecord" class="accordion-collapse collapse show">
                <div class="accordion-body">
                    {% if completed_engagements %}
                        {{ render_track_record(completed_engagements) }}
                    {% else %}
                        The user has no completed engagements.
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}